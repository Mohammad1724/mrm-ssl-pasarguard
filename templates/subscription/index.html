<!DOCTYPE html>
<html lang="fa" dir="rtl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>__BRAND__</title>
    <style>
        @import url('https://fonts.googleapis.com/css2?family=Vazirmatn:wght@400;600;800;900&display=swap');
        
        /* DARK MODE */
        :root {
            --bg: #0a0a0a; --txt: #e5e5e5; --mute: #888;
            --card: rgba(25, 25, 30, 0.85); --brd: rgba(255, 255, 255, 0.1);
            --pri: rgba(56, 189, 248, 0.8);
            --g1: rgba(249, 115, 22, 0.4); --g2: rgba(59, 130, 246, 0.4);
        }
        /* LIGHT MODE */
        :root.light {
            --bg: #f5f5f5; --txt: #1a1a1a; --mute: #666;
            --card: rgba(255, 255, 255, 0.95); --brd: rgba(0, 0, 0, 0.1);
            --pri: rgba(14, 165, 233, 0.9);
            --g1: rgba(249, 115, 22, 0.35); --g2: rgba(59, 130, 246, 0.25);
        }

        * { margin: 0; padding: 0; box-sizing: border-box; }
        body { font-family: 'Vazirmatn', sans-serif; background: var(--bg); color: var(--txt); min-height: 100vh; padding: 60px 20px 20px; transition: 0.3s; }
        
        /* Background Orbs */
        .orb { position: fixed; width: 500px; height: 500px; border-radius: 50%; filter: blur(90px); z-index: -1; pointer-events: none; transition: background 0.3s; }
        .o1 { top: -150px; right: -100px; background: var(--g1); }
        .o2 { bottom: -150px; left: -100px; background: var(--g2); }

        /* Ticker */
        .ticker { position: fixed; top: 0; left: 0; width: 100%; height: 40px; background: rgba(0,0,0,0.3); backdrop-filter: blur(10px); display: flex; align-items: center; overflow: hidden; z-index: 100; }
        .ticker span { white-space: nowrap; animation: s 20s linear infinite; color: #fbbf24; font-size: 13px; font-weight: 700; }
        @keyframes s { 0% { transform: translateX(100%); } 100% { transform: translateX(-100%); } }

        .con { max-width: 800px; margin: 0 auto; }
        
        /* HEADER */
        .head { display: flex; justify-content: space-between; align-items: center; margin-bottom: 25px; }
        .brand-box { display: flex; flex-direction: column; gap: 5px; }
        
        /* Small Header Brand (Preserving ID for script) */
        .brand {
            font-size: 26px; font-weight: 800;
            background: linear-gradient(135deg, #fff 0%, #ccc 100%);
            -webkit-background-clip: text; -webkit-text-fill-color: transparent;
        }
        :root.light .brand { background: linear-gradient(135deg, #333 0%, #666 100%); -webkit-background-clip: text; -webkit-text-fill-color: transparent; }

        .bot-link { display: inline-flex; align-items: center; margin-top: 5px; font-size: 12px; font-weight: 600; color: white; text-decoration: none; background: rgba(255, 255, 255, 0.1); backdrop-filter: blur(12px); padding: 6px 12px; border-radius: 50px; border: 1px solid rgba(255, 255, 255, 0.1); transition: 0.3s; }
        :root.light .bot-link { color: #333; border-color: rgba(0,0,0,0.1); }

        .theme-btn { width: 42px; height: 42px; border-radius: 12px; border: 1px solid var(--brd); background: rgba(255,255,255,0.1); font-size: 20px; cursor: pointer; display: flex; align-items: center; justify-content: center; transition: 0.2s; backdrop-filter: blur(5px); }

        .card { background: var(--card); border: 1px solid var(--brd); border-radius: 24px; padding: 24px; backdrop-filter: blur(20px); transition: 0.3s; }
        .grid { display: grid; gap: 30px; } @media (min-width: 768px) { .grid { grid-template-columns: 1fr 1fr; } }

        /* === PROFILE & DUAL CHART SECTION === */
        .prof-container { display: flex; justify-content: space-between; align-items: center; margin-bottom: 20px; padding-bottom: 15px; border-bottom: 1px solid var(--brd); }
        .prof-info { display: flex; gap: 12px; align-items: center; }
        
        .av { 
            width: 55px; height: 55px; border-radius: 50%; 
            background: radial-gradient(circle at 30% 30%, #fffbef 0%, #ffedd5 100%);
            color: #92400e; display: flex; align-items: center; justify-content: center; 
            font-size: 24px; position: relative;
            border: 1px solid rgba(255, 255, 255, 0.8);
            box-shadow: 0 0 15px rgba(251, 191, 36, 0.5); 
        }
        .dot { position: absolute; bottom: 2px; right: 2px; width: 10px; height: 10px; background: #10b981; border-radius: 50%; border: 2px solid white; }
        .nm { font-size: 16px; font-weight: 700; }
        .st { display: inline-block; margin-top: 2px; font-size: 11px; padding: 2px 8px; border-radius: 8px; }
        .st.act { background: rgba(16,185,129,0.2); color: #34d399; } .st.in { background: rgba(239,68,68,0.2); color: #f87171; }

        /* DUAL RING CHART */
        .chart-box { position: relative; width: 75px; height: 75px; display: flex; align-items: center; justify-content: center; }
        .ring-outer {
            position: absolute; inset: 0; border-radius: 50%;
            /* Dynamic Conic Gradient */
            background: conic-gradient(var(--cData) var(--per), rgba(255,255,255,0.05) 0);
            mask: radial-gradient(farthest-side, transparent 74%, #000 76%);
            -webkit-mask: radial-gradient(farthest-side, transparent 74%, #000 76%);
            transition: background 1s;
        }
        .ring-inner {
            position: absolute; inset: 9px; border-radius: 50%;
            background: conic-gradient(var(--cTime) var(--tper), rgba(255,255,255,0.02) 0);
            mask: radial-gradient(farthest-side, transparent 70%, #000 73%);
            -webkit-mask: radial-gradient(farthest-side, transparent 70%, #000 73%);
            transition: background 1s;
        }
        .chart-val { z-index: 2; font-size: 13px; font-weight: 800; color: var(--txt); }

        /* BUTTONS */
        .btn { position: relative; display: flex; align-items: center; justify-content: center; height: 48px; border-radius: 14px; font-size: 13px; font-weight: 600; cursor: pointer; text-decoration: none; overflow: hidden; background: linear-gradient(135deg, rgba(255,255,255,0.1), rgba(255,255,255,0.02)); backdrop-filter: blur(10px); border: 1px solid rgba(255,255,255,0.1); color: var(--txt); transition: 0.3s; }
        .btn:active { transform: scale(0.97); } .btn:hover { transform: translateY(-2px); }
        
        /* DIRECT CONNECT BUTTON - Updated */
        .btn-p { 
            /* Dark Mode: Very transparent */
            background: rgba(56, 189, 248, 0.05); 
            color: #38bdf8; 
            border: 1px solid rgba(56, 189, 248, 0.15); 
        }
        /* Green Lamp Effect */
        .btn-p::before { 
            content: ''; position: absolute; inset: 0;
            background: radial-gradient(ellipse, rgba(74, 222, 128, 0.7), transparent 70%);
            opacity: 0.3; filter: blur(12px); pointer-events: none;
        }
        
        /* Light Mode Primary */
        :root.light .btn-p { 
            background: linear-gradient(135deg, #e0f2fe 0%, #bae6fd 100%); /* Solid Blue */
            color: #0369a1; 
            border: 1px solid #7dd3fc; 
            box-shadow: 0 4px 12px rgba(14, 165, 233, 0.2);
        }
        :root.light .btn-p::before { 
            background: radial-gradient(ellipse, rgba(34, 197, 94, 0.8), transparent 70%); /* Stronger Green */
            opacity: 0.6; filter: blur(8px);
        }

        .btn-s { background: rgba(255,255,255,0.05); }
        .btn-dark { background: rgba(0,0,0,0.3); font-size: 12px; } :root.light .btn-dark { background: rgba(0,0,0,0.05); color: #333; }

        .btn-grid { display: grid; grid-template-columns: 1fr 1fr; gap: 10px; margin-bottom: 10px; }

        /* === BIG BRAND FOOTER === */
        .big-brand-box { margin-top: 30px; text-align: center; padding-top: 10px; }
        .big-brand {
            font-size: 48px; font-weight: 900; letter-spacing: -2px;
            /* Modern Gradient for Big Brand */
            background: linear-gradient(135deg, #ffffff 0%, #e0f2fe 40%, #38bdf8 70%, #fbbf24 100%);
            -webkit-background-clip: text; -webkit-text-fill-color: transparent;
            filter: drop-shadow(0 0 20px rgba(56, 189, 248, 0.3));
            animation: shine 5s linear infinite; background-size: 200% auto;
        }
        @keyframes shine { to { background-position: 200% center; } }
        :root.light .big-brand {
            background: linear-gradient(135deg, #1e293b 0%, #0ea5e9 60%, #d97706 100%);
            -webkit-background-clip: text; -webkit-text-fill-color: transparent;
            filter: drop-shadow(0 0 10px rgba(14, 165, 233, 0.2));
        }

        /* STATS & DOWNLOADS */
        .stats { display: grid; grid-template-columns: 1fr 1fr; gap: 10px; margin-bottom: 15px; }
        .sb { background: rgba(255,255,255,0.05); padding: 12px; border-radius: 12px; border: 1px solid var(--brd); } :root.light .sb { background: rgba(0,0,0,0.03); }
        .sl { font-size: 11px; color: var(--mute); margin-bottom: 4px; } .sv { font-size: 14px; font-weight: 700; direction: ltr; text-align: left; }

        .dls { display: grid; grid-template-columns: repeat(3, 1fr); gap: 8px; margin-top: 15px; border-top: 1px solid var(--brd); padding-top: 15px; }
        .db { display: flex; flex-direction: column; align-items: center; gap: 3px; padding: 8px 4px; background: rgba(255,255,255,0.05); border-radius: 10px; text-decoration: none; color: var(--txt); font-size: 10px; border: 1px solid var(--brd); transition: 0.2s; }
        .db span { font-size: 14px; } :root.light .db { background: rgba(0,0,0,0.03); }
        .db.rec { border-color: #f59e0b; background: rgba(245,158,11,0.1); }

        /* MODALS */
        .mod { position: fixed; inset: 0; background: rgba(0,0,0,0.8); backdrop-filter: blur(5px); display: none; align-items: center; justify-content: center; z-index: 500; }
        .mbox { background: #1a1a1a; padding: 24px; border-radius: 20px; text-align: center; width: 90%; max-width: 350px; color: white; }
        .tst { position: fixed; bottom: 30px; left: 50%; transform: translateX(-50%) translateY(20px); background: white; color: black; padding: 12px 24px; border-radius: 30px; font-weight: 700; opacity: 0; transition: 0.3s; z-index: 1000; }
        .tst.sh { opacity: 1; transform: translateX(-50%) translateY(0); }
        .cin { width: 100%; background: rgba(255,255,255,0.1); border: 1px solid rgba(255,255,255,0.2); color: white; padding: 10px; border-radius: 8px; margin-top: 10px; font-family: monospace; font-size: 12px; text-align: center; }
        #cph { position: absolute; left: -9999px; top: -9999px; opacity: 0; }
        .app-list { display: grid; gap: 8px; margin-top: 10px; }
        .app-btn { display: flex; align-items: center; justify-content: space-between; padding: 12px 16px; background: rgba(255,255,255,0.08); border-radius: 12px; color: white; text-decoration: none; border: 1px solid var(--brd); transition: 0.2s; cursor: pointer; }
    </style>
</head>
<body>
    <div class="orb o1"></div> <div class="orb o2"></div>
    <div class="ticker"><span id="nT">__NEWS__</span></div>
    <div class="tst" id="toast">⁄©Ÿæ€å ÿ¥ÿØ!</div>
    <input type="text" id="cph" readonly>

    <div class="con">
        <div class="head">
            <div class="brand-box">
                <!-- Header Brand (Preserving ID) -->
                <div class="brand" id="brandTxt">__BRAND__</div>
                <a href="https://t.me/__BOT__" class="bot-link">ü§ñ @__BOT__</a>
            </div>
            <button class="theme-btn" id="themeBtn">üåô</button>
        </div>

        <div class="card">
            <div class="grid">
                <!-- LEFT COLUMN -->
                <div style="display:flex; flex-direction:column; justify-content:space-between;">
                    <div>
                        <!-- PROFILE + DUAL CHART ROW -->
                        <div class="prof-container">
                            <div class="prof-info">
                                <div class="av">üë§ {% if user.online_at %}<div class="dot"></div>{% endif %}</div>
                                <div>
                                    <div class="nm">{{ user.username }}</div>
                                    {% if user.status.name == 'active' %}<span class="st act">ŸÅÿπÿßŸÑ</span>{% else %}<span class="st in">ÿ∫€åÿ±ŸÅÿπÿßŸÑ</span>{% endif %}
                                </div>
                            </div>
                            <!-- DUAL CHART -->
                            <div class="chart-box">
                                <div class="ring-outer" id="rOut"></div>
                                <div class="ring-inner" id="rIn"></div>
                                <div class="chart-val" id="chTxt">0%</div>
                            </div>
                        </div>

                        <!-- BUTTONS -->
                        <div class="btn-grid">
                            <button class="btn btn-s" onclick="hc('{{ subscription_url }}')">⁄©Ÿæ€å ŸÑ€åŸÜ⁄©</button>
                            <button class="btn btn-s" onclick="om('qrm')">QR Code</button>
                        </div>
                        
                        <button class="btn btn-p" style="width:100%; margin-bottom:10px" onclick="om('appMod')">üöÄ ÿßÿ™ÿµÿßŸÑ ŸÖÿ≥ÿ™ŸÇ€åŸÖ (ÿßŸÜÿ™ÿÆÿßÿ® ÿßŸæ)</button>
                        <button class="btn btn-s" style="width:100%" onclick="sc()">üìÇ ⁄©ÿßŸÜŸÅ€å⁄Ø‚ÄåŸáÿß</button>
                        <a href="https://t.me/__SUP__" class="btn btn-dark" style="width:100%; display:flex; justify-content:center; align-items:center; margin-top:10px">üí¨ ÿßÿ±ÿ™ÿ®ÿßÿ∑ ÿ®ÿß Ÿæÿ¥ÿ™€åÿ®ÿßŸÜ€å</a>
                    </div>

                    <!-- BIG BRAND FOOTER -->
                    <div class="big-brand-box">
                        <div class="big-brand">__BRAND__</div>
                    </div>
                </div>

                <!-- RIGHT COLUMN -->
                <div>
                    <div class="stats">
                        <div class="sb"><div class="sl">ÿßŸÜŸÇÿ∂ÿß</div><div class="sv" id="ed"></div></div>
                        <div class="sb"><div class="sl">ÿ≠ÿ¨ŸÖ ⁄©ŸÑ</div><div class="sv" id="totDisp">...</div></div>
                        <div class="sb"><div class="sl">ŸÖÿµÿ±ŸÅ ÿ¥ÿØŸá</div><div class="sv" id="useDisp">...</div></div>
                        <div class="sb"><div class="sl">ÿ®ÿßŸÇ€åŸÖÿßŸÜÿØŸá</div><div class="sv" id="rem" style="color:#3b82f6">...</div></div>
                    </div>
                    <div class="dls">
                        <a href="__ANDROID__" class="db" id="da"><span>ü§ñ</span>Android</a>
                        <a href="__IOS__" class="db" id="di"><span>üçè</span>iOS</a>
                        <a href="__WIN__" class="db" id="dw"><span>üíª</span>Windows</a>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- MODALS -->
    <div class="mod" id="appMod" onclick="if(event.target===this)cm('appMod')">
        <div class="mbox">
            <h3>ÿßŸÜÿ™ÿÆÿßÿ® ÿ®ÿ±ŸÜÿßŸÖŸá</h3>
            <div class="app-list">
                <div class="app-btn" onclick="openApp('v2rayng')"><span>v2rayNG</span><span>‚ö°</span></div>
                <div class="app-btn" onclick="openApp('hiddify')"><span>Hiddify</span><span>ü¶ã</span></div>
                <div class="app-btn" onclick="openApp('happ')"><span>Happ</span><span>üåê</span></div>
                <div class="app-btn" onclick="openApp('sub')"><span>ÿ¢€åŸÅŸàŸÜ / Universal</span><span>üçè</span></div>
            </div><br><button class="btn btn-s" style="background:#333;color:white" onclick="cm('appMod')">ÿ®ÿ≥ÿ™ŸÜ</button>
        </div>
    </div>
    <div class="mod" id="qrm" onclick="if(event.target===this)cm('qrm')"><div class="mbox"><div style="background:white;padding:10px;border-radius:10px;display:inline-block"><img id="qi" src="" width="180"></div><br><br><button class="btn btn-s" style="background:#333;color:white" onclick="cm('qrm')">ÿ®ÿ≥ÿ™ŸÜ</button></div></div>
    <div class="mod" id="cfm" onclick="if(event.target===this)cm('cfm')"><div class="mbox"><div id="cl" style="text-align:left;max-height:300px;overflow-y:auto;font-size:12px">...</div><br><button class="btn btn-s" style="background:#333;color:white" onclick="cm('cfm')">ÿ®ÿ≥ÿ™ŸÜ</button></div></div>
    <div class="mod" id="cpm" onclick="if(event.target===this)cm('cpm')"><div class="mbox"><input type="text" class="cin" id="cpi" readonly onclick="this.select()"><br><br><button class="btn btn-s" style="background:#333;color:white" onclick="cm('cpm')">ÿ®ÿ≥ÿ™ŸÜ</button></div></div>

    <script>
        var subUrl = '{{ subscription_url }}';
        var totStr = '{{ user.data_limit }}';
        var useStr = '{{ user.used_traffic }}';
        var expStr = '{{ user.expire }}';
        
        {% raw %}
        if (!subUrl || subUrl.indexOf('{{') !== -1) subUrl = window.location.href;
        document.getElementById('qi').src = 'https://api.qrserver.com/v1/create-qr-code/?size=200x200&data=' + subUrl;

        var root = document.documentElement; var tb = document.getElementById('themeBtn');
        if (localStorage.getItem('theme') === 'light') { root.classList.add('light'); tb.textContent = '‚òÄÔ∏è'; }
        tb.onclick = function() {
            if (root.classList.contains('light')) { root.classList.remove('light'); tb.textContent = 'üåô'; localStorage.setItem('theme', 'dark'); }
            else { root.classList.add('light'); tb.textContent = '‚òÄÔ∏è'; localStorage.setItem('theme', 'light'); }
        };

        var tot = parseInt(totStr)||0; var use = parseInt(useStr)||0;
        var per = tot > 0 ? Math.min((use/tot)*100, 100) : 0;
        
        // DUAL CHART LOGIC
        var tPer = 0; // Time Percentage
        var expDate = null;
        if(expStr && expStr !== 'None' && expStr !== 'null') {
            try {
                expDate = new Date(expStr);
                if(!isNaN(expDate.getTime())) {
                    var now = new Date();
                    var diff = expDate - now;
                    var days = diff / (1000 * 60 * 60 * 24);
                    // Scale ring based on 30 days max
                    if (days > 30) tPer = 100;
                    else if (days <= 0) tPer = 0;
                    else tPer = (days / 30) * 100;
                }
            } catch(e) {}
        } else { tPer = 100; }

        // Colors
        var cData = '#3b82f6'; if(per > 80) cData = '#e11d48'; // Red if high usage
        var cTime = '#10b981'; if(tPer < 20) cTime = '#f59e0b'; if(tPer < 5) cTime = '#ef4444'; // Red if exp soon

        // Apply Gradients
        var rOut = document.getElementById('rOut');
        var rIn = document.getElementById('rIn');
        rOut.style.background = 'conic-gradient('+cData+' '+per+'%, rgba(255,255,255,0.05) 0)';
        rIn.style.background = 'conic-gradient('+cTime+' '+tPer+'%, rgba(255,255,255,0.02) 0)';
        // CSS variables for JS reference if needed
        rOut.style.setProperty('--cData', cData); rOut.style.setProperty('--per', per+'%');
        rIn.style.setProperty('--cTime', cTime); rIn.style.setProperty('--tper', tPer+'%');
        
        document.getElementById('chTxt').innerText = Math.round(per)+'%';

        function fb(b) { 
            if(tot===0) return 'ŸÜÿßŸÖÿ≠ÿØŸàÿØ'; if(b<=0) return '0 B'; 
            var u=['B','KB','MB','GB','TB']; var i=Math.floor(Math.log(b)/Math.log(1024)); 
            return parseFloat((b/Math.pow(1024,i)).toFixed(2))+' '+u[i]; 
        }
        
        document.getElementById('totDisp').textContent = fb(tot);
        document.getElementById('useDisp').textContent = fb(use);
        document.getElementById('rem').textContent = fb(tot-use);

        var ed = document.getElementById('ed');
        if(ed) {
            if(!expDate) ed.innerText = 'ŸÜÿßŸÖÿ≠ÿØŸàÿØ';
            else {
                var sh = expDate.toLocaleDateString('fa-IR');
                var diff = Math.floor((expDate - new Date())/(1000*60*60*24));
                var txt = diff < 0 ? '(ŸÖŸÜŸÇÿ∂€å)' : (diff === 0 ? '(ÿßŸÖÿ±Ÿàÿ≤)' : '(' + diff + ' ÿ±Ÿàÿ≤)');
                var c = diff < 0 ? '#ef4444' : (diff === 0 ? '#f59e0b' : '#10b981');
                ed.innerHTML = sh + '<br><span style="font-size:11px; opacity:0.8; color:' + c + '">' + txt + '</span>';
            }
        }

        function hc(t) {
            if(!t || t.indexOf('{{') !== -1) t = subUrl;
            if(navigator.clipboard && window.isSecureContext) navigator.clipboard.writeText(t).then(st).catch(function(){fbc(t)});
            else fbc(t);
        }
        function fbc(t) {
            var h = document.getElementById('cph'); h.style.display='block'; h.value=t; h.focus(); h.select();
            try { if(document.execCommand('copy')) st(); else omc(t); } catch(e){ omc(t); } h.style.display='none';
        }
        function omc(t) { document.getElementById('cpi').value = t; om('cpm'); }
        function st() { var t=document.getElementById('toast'); t.classList.add('sh'); setTimeout(function(){t.classList.remove('sh')},2000); }
        function om(i) { document.getElementById(i).style.display='flex'; }
        function cm(i) { document.getElementById(i).style.display='none'; }

        function openApp(app) {
            var t = subUrl; var n = document.title; var link = '';
            if(app === 'v2rayng') link = 'v2rayng://install-sub?url=' + encodeURIComponent(t) + '&name=' + encodeURIComponent(n);
            else if(app === 'hiddify') link = 'hiddify://install-sub?url=' + encodeURIComponent(t) + '&name=' + encodeURIComponent(n);
            else if(app === 'v2raytun') link = 'v2raytun://install-sub?url=' + encodeURIComponent(t) + '&name=' + encodeURIComponent(n);
            else if(app === 'happ') link = 'happ://install-sub?url=' + encodeURIComponent(t) + '&name=' + encodeURIComponent(n);
            else { try { var b = btoa(t); link = 'sub://' + b + '#' + encodeURIComponent(n); } catch(e) { link = t; } }
            window.location.href = link; setTimeout(function(){ cm('appMod'); }, 500);
        }

        function sc() {
            om('cfm'); var l=document.getElementById('cl'); l.innerHTML='...';
            fetch(window.location.pathname+'/links').then(function(r){return r.text()}).then(function(t){
                if(t){
                    l.innerHTML='<button class="btn btn-p" style="height:32px;font-size:12px;margin-bottom:10px;width:100%" onclick="hc(\''+t.replace(/\n/g,'\\n')+'\')">⁄©Ÿæ€å ŸáŸÖŸá</button>';
                    t.split('\n').forEach(function(x){
                        var z=x.trim();
                        if(z && (z.indexOf('vmess')===0 || z.indexOf('vless')===0 || z.indexOf('trojan')===0 || z.indexOf('ss://')===0)){
                            var n='Config'; if(z.indexOf('#')>-1) n=decodeURIComponent(z.split('#')[1]);
                            l.innerHTML+='<div style="background:rgba(255,255,255,0.1);padding:8px;border-radius:8px;margin-bottom:8px;display:flex;justify-content:space-between;align-items:center"><span>'+n+'</span><button class="btn btn-s" style="width:auto;height:24px;padding:0 10px;font-size:11px" onclick="hc(\''+z+'\')">⁄©Ÿæ€å</button></div>';
                        }
                    });
                }
            }).catch(function(){l.innerHTML='ÿÆÿ∑ÿß'});
        }

        var ua = navigator.userAgent.toLowerCase();
        if(ua.indexOf('android')>-1) document.getElementById('da').classList.add('rec');
        else if(ua.indexOf('iphone')>-1||ua.indexOf('ipad')>-1) document.getElementById('di').classList.add('rec');
        else if(ua.indexOf('win')>-1) document.getElementById('dw').classList.add('rec');
        {% endraw %}
    </script>
</body>
</html>